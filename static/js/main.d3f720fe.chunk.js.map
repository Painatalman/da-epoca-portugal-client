{"version":3,"sources":["serviceWorker.ts","generated/graphql.tsx","features/products/slice.ts","components/FruitsInSeason/Theme.tsx","components/FruitsInSeason/Product.tsx","components/FruitsInSeason/FruitsInSeasonSection.tsx","components/FruitsInSeason/index.tsx","App.tsx","store.ts","index.tsx"],"names":["Boolean","window","location","hostname","match","ProductType","CacheControlScope","GetProductsInSeasonDocument","gql","slice","createSlice","name","initialState","products","reducers","fetchProducts","state","action","payload","actions","selectProducts","theme","colors","fruityOrange","veggieGreen","candyAppleRed","gray","grayDark","grayLight","white","fonts","default","fontSizes","xs","small","medium","large","spacing","1","2","3","4","5","6","Theme","children","Card","styled","article","props","Label","span","EndingLabel","NewLabel","ImageContainer","div","Product","product","alt","src","photo","inEndOfSeason","newInSeason","Section","section","LaunchList","useSelector","map","i","key","baseOptions","dispatch","useDispatch","Apollo","data","error","loading","getProductsInSeason","FruitsInSeasonSection","App","FruitsInSeason","rootReducer","combineReducers","productReducer","store","configureStore","reducer","client","ApolloClient","link","createHttpLink","uri","process","cache","InMemoryCache","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console","message"],"mappings":"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","file":"static/js/main.d3f720fe.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { gql } from '@apollo/client';\nimport * as Apollo from '@apollo/client';\nexport type Maybe<T> = T | null;\nexport type Exact<T extends { [key: string]: unknown }> = { [K in keyof T]: T[K] };\n/** All built-in and custom scalars, mapped to their actual values */\nexport type Scalars = {\n  ID: string;\n  String: string;\n  Boolean: boolean;\n  Int: number;\n  Float: number;\n  /** Number for a half of a month, from 1 to 24. Ex.: 3 = 1st half february, 20 = 2nd half of october */\n  HalfMonth: any;\n  /** The `Upload` scalar type represents a file upload. */\n  Upload: any;\n};\n\n\nexport enum ProductType {\n  Fruit = 'FRUIT',\n  Vegetable = 'VEGETABLE'\n}\n\nexport type Product = {\n  __typename?: 'Product';\n  id: Scalars['ID'];\n  name: Scalars['String'];\n  name_en?: Maybe<Scalars['String']>;\n  photo?: Maybe<Scalars['String']>;\n  type: ProductType;\n  halfMonths: Array<Scalars['HalfMonth']>;\n  inEndOfSeason: Scalars['Boolean'];\n  newInSeason: Scalars['Boolean'];\n};\n\nexport type Query = {\n  __typename?: 'Query';\n  products: Array<Product>;\n  getProductsInSeason: Array<Product>;\n  getProductSeasons: Array<Scalars['HalfMonth']>;\n  isInSeason: Scalars['Boolean'];\n};\n\n\nexport type QueryGetProductsInSeasonArgs = {\n  type?: Maybe<ProductType>;\n};\n\n\nexport type QueryGetProductSeasonsArgs = {\n  productId: Scalars['ID'];\n};\n\n\nexport type QueryIsInSeasonArgs = {\n  productId: Scalars['ID'];\n};\n\nexport enum CacheControlScope {\n  Public = 'PUBLIC',\n  Private = 'PRIVATE'\n}\n\n\nexport type GetProductsInSeasonQueryVariables = Exact<{ [key: string]: never; }>;\n\n\nexport type GetProductsInSeasonQuery = (\n  { __typename?: 'Query' }\n  & { getProductsInSeason: Array<(\n    { __typename?: 'Product' }\n    & Pick<Product, 'name' | 'name_en' | 'type' | 'photo' | 'newInSeason' | 'inEndOfSeason'>\n  )> }\n);\n\n\nexport const GetProductsInSeasonDocument = gql`\n    query getProductsInSeason {\n  getProductsInSeason {\n    name\n    name_en\n    type\n    photo\n    newInSeason\n    inEndOfSeason\n  }\n}\n    `;\n\n/**\n * __useGetProductsInSeasonQuery__\n *\n * To run a query within a React component, call `useGetProductsInSeasonQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetProductsInSeasonQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetProductsInSeasonQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useGetProductsInSeasonQuery(baseOptions?: Apollo.QueryHookOptions<GetProductsInSeasonQuery, GetProductsInSeasonQueryVariables>) {\n        return Apollo.useQuery<GetProductsInSeasonQuery, GetProductsInSeasonQueryVariables>(GetProductsInSeasonDocument, baseOptions);\n      }\nexport function useGetProductsInSeasonLazyQuery(baseOptions?: Apollo.LazyQueryHookOptions<GetProductsInSeasonQuery, GetProductsInSeasonQueryVariables>) {\n          return Apollo.useLazyQuery<GetProductsInSeasonQuery, GetProductsInSeasonQueryVariables>(GetProductsInSeasonDocument, baseOptions);\n        }\nexport type GetProductsInSeasonQueryHookResult = ReturnType<typeof useGetProductsInSeasonQuery>;\nexport type GetProductsInSeasonLazyQueryHookResult = ReturnType<typeof useGetProductsInSeasonLazyQuery>;\nexport type GetProductsInSeasonQueryResult = Apollo.QueryResult<GetProductsInSeasonQuery, GetProductsInSeasonQueryVariables>;","import { RootState } from '../../store';\nimport { PartialProduct } from './types';\nimport { CaseReducer, createSlice, PayloadAction } from '@reduxjs/toolkit';\n\ntype State = {\n  products: PartialProduct[]\n}\n\nconst initialState:State = {\n  products: [],\n};\n\nconst fetchProductsCaseReducer: CaseReducer<State, PayloadAction<PartialProduct[]>> = (state, action) => {\n  state.products = action.payload\n}\n\nexport const slice = createSlice({\n  name: 'products',\n  initialState,\n  reducers: {\n    fetchProducts: fetchProductsCaseReducer\n  }\n});\n\nexport const {\n  fetchProducts\n} = slice.actions;\n\nexport const selectProducts = (state:RootState) => {\n  return state[slice.name].products;\n};\n\nexport default slice.reducer;\n","import React from \"react\";\nimport { ThemeProvider } from \"styled-components\";\n\nconst theme = {\n  colors: {\n    fruityOrange: \"#ED7014\",\n    veggieGreen: \"#457D00\",\n    candyAppleRed: \"#FF0800\",\n    gray: \"#707070\",\n    grayDark: \"#222222\",\n    grayLight: \"#BABABA\",\n    white: \"#FFFFFF\",\n  },\n  fonts: {\n    default: \"Fredoka One\",\n  },\n  fontSizes: {\n    xs: \"0.75rem\",\n    small: \"1rem\",\n    medium: \"1.25rem\",\n    large: \"2rem\",\n  },\n  spacing: {\n    1: \"0.5rem\",\n    2: \"1rem\",\n    3: \"1.5rem\",\n    4: \"2rem\",\n    5: \"2.5rem\",\n    6: \"3rem\",\n  },\n};\n\nexport type ThemeType = typeof theme;\n\nconst Theme = ({ children }: { children: React.ReactNode }) => (\n  <ThemeProvider theme={theme}>{children}</ThemeProvider>\n);\n\nexport default Theme;\n","import * as React from \"react\";\n\nimport { PartialProduct } from \"../../features/products/types\";\nimport styled from \"styled-components\";\nimport Theme, { ThemeType } from \"./Theme\";\n\ntype ThemeProps = {\n  theme: ThemeType;\n};\n\ntype ProductProps = {\n  product: PartialProduct;\n};\n\nconst Card = styled.article`\n  position: relative;\n\n  font-size: ${(props: ThemeProps) => props.theme.fontSizes.medium};\n  font-family: Fredoka One;\n  text-align: center;\n\n  strong {\n    display: block;\n    padding-top: ${(props: ThemeProps) => props.theme.spacing[1]};\n\n    text-transform: capitalize;\n    font-weight: normal;\n    font-size: ${(props: ThemeProps) => props.theme.fontSizes.small};\n  }\n`;\n\nconst Label = styled.span`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  padding: 0.2rem;\n  color: ${(props: ThemeProps) => props.theme.colors.white};\n  font-size: ${(props: ThemeProps) => props.theme.fontSizes.xs};\n  border-radius: 8px 8px 0 0;\n`;\n\nconst EndingLabel = styled(Label)`\n  background-color: ${(props: ThemeProps) => props.theme.colors.fruityOrange};\n`;\n\nconst NewLabel = styled(Label)`\n  background-color: ${(props: ThemeProps) => props.theme.colors.veggieGreen};\n`;\n\nconst ImageContainer = styled.div`\n  position: relative;\n  padding-bottom: 100%;\n\n  img {\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    width: 100%;\n    height: 100%;\n    border-radius: 8px;\n    object-fit: cover;\n  }\n`;\n\nconst Product: React.FC<ProductProps> = ({ product }) => {\n  return (\n    <Theme>\n      <Card>\n        <ImageContainer>\n          <img alt=\"\" src={product.photo || \"http://placehold.it/80/80\"} />\n        </ImageContainer>\n        {product.inEndOfSeason ? (\n          <EndingLabel>Fim de Época</EndingLabel>\n        ) : product.newInSeason ? (\n          <NewLabel>Início de Época</NewLabel>\n        ) : (\n          \"\"\n        )}\n        <strong>{product.name}</strong>\n      </Card>\n    </Theme>\n  );\n};\n\nexport default Product;\n","import * as React from \"react\";\n\nimport { selectProducts } from \"../../features/products/slice\";\nimport { useSelector } from \"react-redux\";\nimport { PartialProduct } from \"../../features/products/types\";\nimport styled from \"styled-components\";\nimport Theme, { ThemeType } from \"./Theme\";\nimport Product from \"./Product\";\n\ntype ThemeProps = {\n  theme: ThemeType;\n};\n\nconst Section = styled.section`\n  box-sizing: border-box;\n  margin: auto;\n  width: 100%;\n  min-width: 360px;\n  max-width: 480px;\n  padding: 0 ${(props: ThemeProps) => props.theme.spacing[2]};\n\n  font-size: ${(props: ThemeProps) => props.theme.fontSizes.medium};\n  font-family: Fredoka One;\n\n  ul {\n    list-style-type: none;\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-gap: ${(props: ThemeProps) => props.theme.spacing[3]};\n    padding: 0;\n  }\n\n  h1,\n  h2 {\n    font-weight: normal;\n    font-size: ${(props: ThemeProps) => props.theme.fontSizes.medium};\n  }\n`;\n\nconst LaunchList: React.FC = () => {\n  const products: PartialProduct[] = useSelector(selectProducts);\n\n  return (\n    <Theme>\n      <Section>\n        <h1>Produtos da Época</h1>\n        <ul>\n          {products.map((product, i) => (\n            <li key={i}>\n              <Product product={product} />\n            </li>\n          ))}\n        </ul>\n      </Section>\n    </Theme>\n  );\n};\n\nexport default LaunchList;\n","import React from 'react';\n\nimport { useGetProductsInSeasonQuery } from '../../generated/graphql'\nimport FruitsInSeasonSection from './FruitsInSeasonSection'\nimport { useDispatch } from 'react-redux';\nimport { fetchProducts } from '../../features/products/slice';\n\n\n  export default () => {\n    const dispatch = useDispatch()\n    const { data, error, loading } = useGetProductsInSeasonQuery();\n    \n    \n    if (loading) {\n      return <div>Loading...</div>;\n    }\n  \n    if (error || !data) {\n      return <div>ERROR</div>;\n    }\n\n    dispatch(fetchProducts(data.getProductsInSeason))\n  \n    return <FruitsInSeasonSection />;\n  };\n  ","import React from 'react';\nimport './App.css';\nimport FruitsInSeason from './components/FruitsInSeason';\n\nfunction App() {\n  return (\n    <FruitsInSeason />\n  );\n}\n\nexport default App;\n","import { configureStore, combineReducers } from \"@reduxjs/toolkit\";\n\nimport productReducer from \"./features/products/slice\";\n\nconst rootReducer = combineReducers({\n  products: productReducer,\n});\n\nconst store = configureStore({\n  reducer: rootReducer,\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {\n  ApolloProvider,\n  InMemoryCache,\n  createHttpLink,\n  ApolloClient,\n} from \"@apollo/client\";\nimport \"./index.css\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nconst client = new ApolloClient({\n  link: createHttpLink({\n    uri: process.env.REACT_APP_API_URL,\n  }),\n  cache: new InMemoryCache(),\n});\n\nReactDOM.render(\n  <Provider store={store}>\n    <ApolloProvider client={client}>\n      <App />\n    </ApolloProvider>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}